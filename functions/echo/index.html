<!DOCTYPE html>

<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->

<head>
  <meta charset="utf-8">
  <title> - php.js</title>
  <meta name="author" content="Kevin van Zonneveld">


  <meta name="description" content="php.js is a resource that offers community-built JavaScript alternatives to PHP functions.">


  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">


  <link rel="canonical" href="http://phpjs.org/about/">
  <link href="/favicon.ico" rel="shortcut icon">
  <link href="//kvz.github.io/on-the-githubs/css/on-the-githubs.min.css" rel="stylesheet" />
  <link data-meta="css.app" href="/assets/build/app.css" media="screen, projection" rel="stylesheet" type="text/css" />
  <script data-meta="js.head" src="/assets/build/head.js"></script>
  <link href="/atom.xml" rel="alternate" title="php.js" type="application/atom+xml">
  <link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
  <link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
  <link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
</head>

<a target="_blank" href="https://github.com/kvz/phpjs">
  <img id="fork-us" style="position: absolute; z-index: 99; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png" alt="Fork me on GitHub">
</a>

<body>
  <header role="banner">
    <hgroup>
      <div id="logo">
        <h1><a href="/"><span>php</span><span>.js</span></a></h1>
        <div class="clear"></div>
      </div>

      <h2>Learn how to do it in JavaScript. Explore boundaries porting languages. Enjoy functions that turn out to be useful.</h2>

      <div class="clear"></div>
    </hgroup>

  </header>
  <nav role="navigation">
    <ul class="subscription" data-subscription="rss">
      <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>

    </ul>

    <form action="http://google.com/search" method="get">
      <fieldset role="search">
        <input type="hidden" name="q" value="site:phpjs.org" />
        <input class="search" type="text" name="q" results="0" placeholder="Search" />
      </fieldset>
    </form>

    <ul class="main-navigation">
      <li><a href="/about/">About</a></li>
      <li><a href="/blog/archives/">Blog</a></li>
      <li><a href="/functions/">Functions</a></li>
      <li><a href="/authors/">Authors</a></li>
      <li><a href="https://github.com/kvz/phpjs">GitHub</a></li>
    </ul>

  </nav>
  <div id="main">
    <div id="content">

      <div>
  <article role="article">
    
    <p>
  Here’s what a JavaScript equivalent for
  <a href="http://php.net/manual/en/function.echo.php">PHP’s echo</a>
  looks like.
</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">echo</span> <span class="p">()</span> <span class="p">{</span>
  <span class="c1">//  discuss at: http://phpjs.org/functions/echo/</span>
  <span class="c1">// original by: Philip Peterson</span>
  <span class="c1">// improved by: echo is bad</span>
  <span class="c1">// improved by: Nate</span>
  <span class="c1">// improved by: Brett Zamir (http://brett-zamir.me)</span>
  <span class="c1">// improved by: Brett Zamir (http://brett-zamir.me)</span>
  <span class="c1">// improved by: Brett Zamir (http://brett-zamir.me)</span>
  <span class="c1">//  revised by: Der Simon (http://innerdom.sourceforge.net/)</span>
  <span class="c1">// bugfixed by: Eugene Bulkin (http://doubleaw.com/)</span>
  <span class="c1">// bugfixed by: Brett Zamir (http://brett-zamir.me)</span>
  <span class="c1">// bugfixed by: Brett Zamir (http://brett-zamir.me)</span>
  <span class="c1">// bugfixed by: EdorFaus</span>
  <span class="c1">//    input by: JB</span>
  <span class="c1">//        note: If browsers start to support DOM Level 3 Load and Save (parsing/serializing),</span>
  <span class="c1">//        note: we wouldn't need any such long code (even most of the code below). See</span>
  <span class="c1">//        note: link below for a cross-browser implementation in JavaScript. HTML5 might</span>
  <span class="c1">//        note: possibly support DOMParser, but that is not presently a standard.</span>
  <span class="c1">//        note: Although innerHTML is widely used and may become standard as of HTML5, it is also not ideal for</span>
  <span class="c1">//        note: use with a temporary holder before appending to the DOM (as is our last resort below),</span>
  <span class="c1">//        note: since it may not work in an XML context</span>
  <span class="c1">//        note: Using innerHTML to directly add to the BODY is very dangerous because it will</span>
  <span class="c1">//        note: break all pre-existing references to HTMLElements.</span>
  <span class="c1">//   example 1: echo('&lt;div&gt;&lt;p&gt;abc&lt;/p&gt;&lt;p&gt;abc&lt;/p&gt;&lt;/div&gt;');</span>
  <span class="c1">//   returns 1: undefined</span>

  <span class="kd">var</span> <span class="nx">isNode</span> <span class="o">=</span> <span class="k">typeof</span> <span class="nx">module</span> <span class="o">!==</span> <span class="s1">'undefined'</span> <span class="o">&amp;&amp;</span> <span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">&amp;&amp;</span> <span class="k">typeof</span> <span class="nx">global</span> <span class="o">!==</span> <span class="s1">'undefined'</span> <span class="o">&amp;&amp;</span> <span class="p">{}.</span><span class="nx">toString</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span>
    <span class="nx">global</span><span class="p">)</span> <span class="o">==</span> <span class="s1">'[object global]'</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">isNode</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">args</span> <span class="o">=</span> <span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">arguments</span><span class="p">)</span>
    <span class="k">return</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">args</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s1">' '</span><span class="p">))</span>
  <span class="p">}</span>

  <span class="kd">var</span> <span class="nx">arg</span> <span class="o">=</span> <span class="s1">''</span>
  <span class="kd">var</span> <span class="nx">argc</span> <span class="o">=</span> <span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span>
  <span class="kd">var</span> <span class="nx">argv</span> <span class="o">=</span> <span class="nx">arguments</span>
  <span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span>
  <span class="kd">var</span> <span class="nx">holder</span><span class="p">,</span> <span class="nx">win</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nb">window</span>
  <span class="kd">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="nx">win</span><span class="p">.</span><span class="nb">document</span>
  <span class="kd">var</span> <span class="nx">ns_xhtml</span> <span class="o">=</span> <span class="s1">'http://www.w3.org/1999/xhtml'</span>
  <span class="c1">// If we're in a XUL context</span>
  <span class="kd">var</span> <span class="nx">ns_xul</span> <span class="o">=</span> <span class="s1">'http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul'</span>

  <span class="kd">var</span> <span class="nx">stringToDOM</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">str</span><span class="p">,</span> <span class="nx">parent</span><span class="p">,</span> <span class="nx">ns</span><span class="p">,</span> <span class="nx">container</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">extraNSs</span> <span class="o">=</span> <span class="s1">''</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">ns</span> <span class="o">===</span> <span class="nx">ns_xul</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">extraNSs</span> <span class="o">=</span> <span class="s1">' xmlns:html="'</span> <span class="o">+</span> <span class="nx">ns_xhtml</span> <span class="o">+</span> <span class="s1">'"'</span>
    <span class="p">}</span>
    <span class="kd">var</span> <span class="nx">stringContainer</span> <span class="o">=</span> <span class="s1">'&lt;'</span> <span class="o">+</span> <span class="nx">container</span> <span class="o">+</span> <span class="s1">' xmlns="'</span> <span class="o">+</span> <span class="nx">ns</span> <span class="o">+</span> <span class="s1">'"'</span> <span class="o">+</span> <span class="nx">extraNSs</span> <span class="o">+</span> <span class="s1">'&gt;'</span> <span class="o">+</span> <span class="nx">str</span> <span class="o">+</span> <span class="s1">'&lt;/'</span> <span class="o">+</span> <span class="nx">container</span> <span class="o">+</span> <span class="s1">'&gt;'</span>
    <span class="kd">var</span> <span class="nx">dils</span> <span class="o">=</span> <span class="nx">win</span><span class="p">.</span><span class="nx">DOMImplementationLS</span>
    <span class="kd">var</span> <span class="nx">dp</span> <span class="o">=</span> <span class="nx">win</span><span class="p">.</span><span class="nx">DOMParser</span>
    <span class="kd">var</span> <span class="nx">ax</span> <span class="o">=</span> <span class="nx">win</span><span class="p">.</span><span class="nx">ActiveXObject</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">dils</span> <span class="o">&amp;&amp;</span> <span class="nx">dils</span><span class="p">.</span><span class="nx">createLSInput</span> <span class="o">&amp;&amp;</span> <span class="nx">dils</span><span class="p">.</span><span class="nx">createLSParser</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// Follows the DOM 3 Load and Save standard, but not</span>
      <span class="c1">// implemented in browsers at present; HTML5 is to standardize on innerHTML, but not for XML (though</span>
      <span class="c1">// possibly will also standardize with DOMParser); in the meantime, to ensure fullest browser support, could</span>
      <span class="c1">// attach http://svn2.assembla.com/svn/brettz9/DOMToString/DOM3.js (see http://svn2.assembla.com/svn/brettz9/DOMToString/DOM3.xhtml for a simple test file)</span>
      <span class="kd">var</span> <span class="nx">lsInput</span> <span class="o">=</span> <span class="nx">dils</span><span class="p">.</span><span class="nx">createLSInput</span><span class="p">()</span>
      <span class="c1">// If we're in XHTML, we'll try to allow the XHTML namespace to be available by default</span>
      <span class="nx">lsInput</span><span class="p">.</span><span class="nx">stringData</span> <span class="o">=</span> <span class="nx">stringContainer</span>
      <span class="c1">// synchronous, no schema type</span>
      <span class="kd">var</span> <span class="nx">lsParser</span> <span class="o">=</span> <span class="nx">dils</span><span class="p">.</span><span class="nx">createLSParser</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="kc">null</span><span class="p">)</span>
      <span class="k">return</span> <span class="nx">lsParser</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">lsInput</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">firstChild</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">dp</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// If we're in XHTML, we'll try to allow the XHTML namespace to be available by default</span>
      <span class="k">try</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">fc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">dp</span><span class="p">()</span>
          <span class="p">.</span><span class="nx">parseFromString</span><span class="p">(</span><span class="nx">stringContainer</span><span class="p">,</span> <span class="s1">'text/xml'</span><span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">fc</span> <span class="o">&amp;&amp;</span> <span class="nx">fc</span><span class="p">.</span><span class="nx">documentElement</span> <span class="o">&amp;&amp;</span> <span class="nx">fc</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">.</span><span class="nx">localName</span> <span class="o">!==</span> <span class="s1">'parsererror'</span> <span class="o">&amp;&amp;</span> <span class="nx">fc</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">.</span><span class="nx">namespaceURI</span> <span class="o">!==</span>
          <span class="s1">'http://www.mozilla.org/newlayout/xml/parsererror.xml'</span><span class="p">)</span> <span class="p">{</span>
          <span class="k">return</span> <span class="nx">fc</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">.</span><span class="nx">firstChild</span>
        <span class="p">}</span>
        <span class="c1">// If there's a parsing error, we just continue on</span>
      <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// If there's a parsing error, we just continue on</span>
      <span class="p">}</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">ax</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// We don't bother with a holder in Explorer as it doesn't support namespaces</span>
      <span class="kd">var</span> <span class="nx">axo</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ax</span><span class="p">(</span><span class="s1">'MSXML2.DOMDocument'</span><span class="p">)</span>
      <span class="nx">axo</span><span class="p">.</span><span class="nx">loadXML</span><span class="p">(</span><span class="nx">str</span><span class="p">)</span>
      <span class="k">return</span> <span class="nx">axo</span><span class="p">.</span><span class="nx">documentElement</span>
    <span class="p">}</span>
    <span class="cm">/* else if (win.XMLHttpRequest) {
     // Supposed to work in older Safari
      var req = new win.XMLHttpRequest;
      req.open('GET', 'data:application/xml;charset=utf-8,'+encodeURIComponent(str), false);
      if (req.overrideMimeType) {
        req.overrideMimeType('application/xml');
      }
      req.send(null);
      return req.responseXML;
    }*/</span>
    <span class="c1">// Document fragment did not work with innerHTML, so we create a temporary element holder</span>
    <span class="c1">// If we're in XHTML, we'll try to allow the XHTML namespace to be available by default</span>
    <span class="c1">// if (d.createElementNS &amp;&amp; (d.contentType &amp;&amp; d.contentType !== 'text/html')) {</span>
    <span class="c1">// Don't create namespaced elements if we're being served as HTML (currently only Mozilla supports this detection in true XHTML-supporting browsers, but Safari and Opera should work with the above DOMParser anyways, and IE doesn't support createElementNS anyways)</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">createElementNS</span> <span class="o">&amp;&amp;</span> <span class="c1">// Browser supports the method</span>
      <span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">.</span><span class="nx">namespaceURI</span> <span class="o">||</span> <span class="c1">// We can use if the document is using a namespace</span>
        <span class="nx">d</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span> <span class="o">!==</span> <span class="s1">'html'</span> <span class="o">||</span> <span class="c1">// We know it's not HTML4 or less, if the tag is not HTML (even if the root namespace is null)</span>
        <span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">contentType</span> <span class="o">&amp;&amp;</span> <span class="nx">d</span><span class="p">.</span><span class="nx">contentType</span> <span class="o">!==</span> <span class="s1">'text/html'</span><span class="p">)</span> <span class="c1">// We know it's not regular HTML4 or less if this is Mozilla (only browser supporting the attribute) and the content type is something other than text/html; other HTML5 roots (like svg) still have a namespace</span>
      <span class="p">))</span> <span class="p">{</span>
      <span class="c1">// Don't create namespaced elements if we're being served as HTML (currently only Mozilla supports this detection in true XHTML-supporting browsers, but Safari and Opera should work with the above DOMParser anyways, and IE doesn't support createElementNS anyways); last test is for the sake of being in a pure XML document</span>
      <span class="nx">holder</span> <span class="o">=</span> <span class="nx">d</span><span class="p">.</span><span class="nx">createElementNS</span><span class="p">(</span><span class="nx">ns</span><span class="p">,</span> <span class="nx">container</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="c1">// Document fragment did not work with innerHTML</span>
      <span class="nx">holder</span> <span class="o">=</span> <span class="nx">d</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="nx">container</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="nx">holder</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">str</span>
    <span class="k">while</span> <span class="p">(</span><span class="nx">holder</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">parent</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">holder</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="kc">false</span>
    <span class="c1">// throw 'Your browser does not support DOM parsing as required by echo()';</span>
  <span class="p">}</span>

  <span class="kd">var</span> <span class="nx">ieFix</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">node</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">node</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">newNode</span> <span class="o">=</span> <span class="nx">d</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="nx">node</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">)</span>
      <span class="kd">var</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">len</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">node</span><span class="p">.</span><span class="nx">attributes</span> <span class="o">&amp;&amp;</span> <span class="nx">node</span><span class="p">.</span><span class="nx">attributes</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">len</span> <span class="o">=</span> <span class="nx">node</span><span class="p">.</span><span class="nx">attributes</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">len</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">newNode</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="nx">node</span><span class="p">.</span><span class="nx">attributes</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">nodeName</span><span class="p">,</span> <span class="nx">node</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="nx">node</span><span class="p">.</span><span class="nx">attributes</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">nodeName</span><span class="p">))</span>
        <span class="p">}</span>
      <span class="p">}</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">node</span><span class="p">.</span><span class="nx">childNodes</span> <span class="o">&amp;&amp;</span> <span class="nx">node</span><span class="p">.</span><span class="nx">childNodes</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">len</span> <span class="o">=</span> <span class="nx">node</span><span class="p">.</span><span class="nx">childNodes</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">len</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">newNode</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">ieFix</span><span class="p">(</span><span class="nx">node</span><span class="p">.</span><span class="nx">childNodes</span><span class="p">[</span><span class="nx">i</span><span class="p">]))</span>
        <span class="p">}</span>
      <span class="p">}</span>
      <span class="k">return</span> <span class="nx">newNode</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">d</span><span class="p">.</span><span class="nx">createTextNode</span><span class="p">(</span><span class="nx">node</span><span class="p">.</span><span class="nx">nodeValue</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="kd">var</span> <span class="nx">replacer</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">s</span><span class="p">,</span> <span class="nx">m1</span><span class="p">,</span> <span class="nx">m2</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// We assume for now that embedded variables do not have dollar sign; to add a dollar sign, you currently must use {$$var} (We might change this, however.)</span>
    <span class="c1">// Doesn't cover all cases yet: see http://php.net/manual/en/language.types.string.php#language.types.string.syntax.double</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">m1</span> <span class="o">!==</span> <span class="s1">'\\'</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">m1</span> <span class="o">+</span> <span class="nb">eval</span><span class="p">(</span><span class="nx">m2</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">s</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">php_js</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">php_js</span> <span class="o">||</span> <span class="p">{}</span>
  <span class="kd">var</span> <span class="nx">phpjs</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">php_js</span>
  <span class="kd">var</span> <span class="nx">ini</span> <span class="o">=</span> <span class="nx">phpjs</span><span class="p">.</span><span class="nx">ini</span>
  <span class="kd">var</span> <span class="nx">obs</span> <span class="o">=</span> <span class="nx">phpjs</span><span class="p">.</span><span class="nx">obs</span>
  <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">argc</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">arg</span> <span class="o">=</span> <span class="nx">argv</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">ini</span> <span class="o">&amp;&amp;</span> <span class="nx">ini</span><span class="p">[</span><span class="s1">'phpjs.echo_embedded_vars'</span><span class="p">])</span> <span class="p">{</span>
      <span class="nx">arg</span> <span class="o">=</span> <span class="nx">arg</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/</span><span class="se">(</span><span class="sr">.</span><span class="se">?)\{?\$(\w</span><span class="sr">*</span><span class="se">?\}</span><span class="sr">|</span><span class="se">\w</span><span class="sr">*</span><span class="se">)</span><span class="sr">/g</span><span class="p">,</span> <span class="nx">replacer</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">phpjs</span><span class="p">.</span><span class="nx">flushing</span> <span class="o">&amp;&amp;</span> <span class="nx">obs</span> <span class="o">&amp;&amp;</span> <span class="nx">obs</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// If flushing we output, but otherwise presence of a buffer means caching output</span>
      <span class="nx">obs</span><span class="p">[</span><span class="nx">obs</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">].</span><span class="nx">buffer</span> <span class="o">+=</span> <span class="nx">arg</span>
      <span class="k">continue</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">win</span><span class="p">.</span><span class="nx">navigator</span><span class="p">.</span><span class="nx">appName</span> <span class="o">===</span> <span class="s1">'Microsoft Internet Explorer'</span><span class="p">)</span> <span class="p">{</span>
          <span class="c1">// We unfortunately cannot use feature detection, since this is an IE bug with cloneNode nodes being appended</span>
          <span class="nx">d</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">stringToDOM</span><span class="p">(</span><span class="nx">ieFix</span><span class="p">(</span><span class="nx">arg</span><span class="p">)))</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
          <span class="kd">var</span> <span class="nx">unappendedLeft</span> <span class="o">=</span> <span class="nx">stringToDOM</span><span class="p">(</span><span class="nx">arg</span><span class="p">,</span> <span class="nx">d</span><span class="p">.</span><span class="nx">body</span><span class="p">,</span> <span class="nx">ns_xhtml</span><span class="p">,</span> <span class="s1">'div'</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">cloneNode</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="c1">// We will not actually append the div tag (just using for providing XHTML namespace by default)</span>
          <span class="k">if</span> <span class="p">(</span><span class="nx">unappendedLeft</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">d</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">unappendedLeft</span><span class="p">)</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="c1">// We will not actually append the description tag (just using for providing XUL namespace by default)</span>
        <span class="nx">d</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">stringToDOM</span><span class="p">(</span><span class="nx">arg</span><span class="p">,</span> <span class="nx">d</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">,</span> <span class="nx">ns_xul</span><span class="p">,</span> <span class="s1">'description'</span><span class="p">))</span>
      <span class="p">}</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">write</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">d</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="nx">arg</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">arg</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<a class="basic-alignment left themebutton" href="https://github.com/kvz/phpjs/blob/master/functions/strings/echo.js">View on GitHub</a>
<a class="basic-alignment left themebutton" href="https://github.com/kvz/phpjs/edit/master/functions/strings/echo.js">Edit on GitHub</a>
<a class="basic-alignment left themebutton" href="https://raw.githubusercontent.com/kvz/phpjs/master/functions/strings/echo.js">Source on GitHub</a>

<div class="clearfix"></div>




<h2>A community initiative</h2>
<p>
  php.js offers community built functions and goes by the
  <a href="https://medium.com/what-i-learned-building/9216e1c9da7d">McDonald’s Theory</a>.
  We’ll put online functions that aren't perfect, in the hopes to spark better contributions.
  Do you have one? You can directly edit this file on GitHub, this will create a Pull Request that
  the core team can review, and merge into our codebase.
</p>
<p>
  This way of working also means that we don't offer any
  production guarantees, and recommend to use php.js inspiration
  and learning purposes only.
</p>


  <h2>Notes</h2>
  
    <p>If browsers start to support DOM Level 3 Load and Save (parsing/serializing),
we wouldn't need any such long code (even most of the code below). See
link below for a cross-browser implementation in JavaScript. HTML5 might
possibly support DOMParser, but that is not presently a standard.
Although innerHTML is widely used and may become standard as of HTML5, it is also not ideal for
use with a temporary holder before appending to the DOM (as is our last resort below),
since it may not work in an XML context
Using innerHTML to directly add to the BODY is very dangerous because it will
break all pre-existing references to HTMLElements.</p>

  





  
    <h2>Example 1</h2>
    

    <figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">echo</span><span class="p">(</span><span class="s1">'&lt;div&gt;&lt;p&gt;abc&lt;/p&gt;&lt;p&gt;abc&lt;/p&gt;&lt;/div&gt;'</span><span class="p">);</span></code></pre></figure>

    Should return:
    <figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kc">undefined</span></code></pre></figure>
  


<p>
  <a class="basic-alignment left themebutton" href="/functions/#strings">&laquo; More strings functions</a>
</p>

  </article>
</div>



      <aside class="sidebar">
        <section>
  <h1>Advertisement</h1>
  <div id="carbonads-container" style="padding-top: 20px !important; padding-left: 40px !important; ">
    <div class="carbonad">
      <div id="azcarbon"></div>
      <script type="text/javascript">
        var z = document.createElement("script");
        z.type = "text/javascript";
        z.async = true;
        z.src = "http://engine.carbonads.com/z/55999/azcarbon_2_1_0_VERT";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(z, s);
      </script>
    </div>
  </div>

  <h1>Uploading &amp; Encoding</h1>
  <p>
    Struggling with file uploads?
    <a title="File uploading &amp; encoding service" style="color: #3464a4;" href="https://transloadit.com">Transloadit</a>
    deals with progress bars, encoding, resizing, and storing, so you can focus on your web/app. It's pretty sweet.
  </p>
</section>

<!-- Generated by Rakefile:build -->
<section>
  <h1>Categories</h1>
  <ul id='category-list'>
    
    
    <li><a href="/functions/#array">array</a> (75)</li>
    
    <li><a href="/functions/#bc">bc</a> (7)</li>
    
    <li><a href="/functions/#ctype">ctype</a> (11)</li>
    
    <li><a href="/functions/#datetime">datetime</a> (15)</li>
    
    <li><a href="/functions/#exec">exec</a> (1)</li>
    
    <li><a href="/functions/#filesystem">filesystem</a> (5)</li>
    
    <li><a href="/functions/#funchand">funchand</a> (5)</li>
    
    <li><a href="/functions/#i18n">i18n</a> (2)</li>
    
    <li><a href="/functions/#info">info</a> (7)</li>
    
    <li><a href="/functions/#json">json</a> (3)</li>
    
    <li><a href="/functions/#math">math</a> (46)</li>
    
    <li><a href="/functions/#misc">misc</a> (3)</li>
    
    <li><a href="/functions/#net-gopher">net-gopher</a> (1)</li>
    
    <li><a href="/functions/#network">network</a> (6)</li>
    
    <li><a href="/functions/#pcre">pcre</a> (3)</li>
    
    <li><a href="/functions/#strings">strings</a> (91)</li>
    
    <li><a href="/functions/#url">url</a> (10)</li>
    
    <li><a href="/functions/#var">var</a> (31)</li>
    
    <li><a href="/functions/#xdiff">xdiff</a> (2)</li>
    
    <li><a href="/functions/#xml">xml</a> (2)</li>
    
  </ul>
</section>
<section>
  <h1>On the githubs</h1>
  <ul class="on-the-githubs" data-event-source="repos/kvz/phpjs">Loading...</ul>
  <br />
  <br />
</section>


<section>
  <h1>Badges</h1>

  <p>
    <a href="http://travis-ci.org/kvz/phpjs"><img src="https://secure.travis-ci.org/kvz/phpjs.png?branch=master" /></a>
    <br />
    <a href="https://npmjs.org/package/phpjs"><img src="http://badge.fury.io/js/phpjs.png" /></a>
    <br />
    <a href="https://david-dm.org/kvz/phpjs"><img src="https://david-dm.org/kvz/phpjs.png?theme=shields.io" /></a>
    <br />
    <a href="https://david-dm.org/kvz/phpjs#info=devDependencies"><img src="https://david-dm.org/kvz/phpjs/dev-status.png?theme=shields.io" /></a>
    <br />
  </p>

  <h1>Sponsor development</h1>

  <p>
    <a href="https://www.gittip.com/kvz/"><img src="http://img.shields.io/gittip/kvz.png?color=green" /></a>
    <br />
    <a href="https://flattr.com/submit/auto?user_id=kvz&url=https://github.com/kvz/phpjs&title=phpjs&language=&tags=github&category=software"><img src="http://img.shields.io/flattr/donate.png?color=green" /></a>
    <br />
    <a href="https://www.paypal.com/cgi-bin/webscr?cmd=_donations&business=kevin%40vanzonneveld%2enet&lc=NL&item_name=Open%20source%20donation%20to%20Kevin%20van%20Zonneveld&currency_code=USD&bn=PP-DonationsBF%3abtn_donate_SM%2egif%3aNonHosted"><img src="http://img.shields.io/paypal/donate.png?color=green" /></a>
    <br />
    <a href="https://coinbase.com/checkouts/19BtCjLCboRgTAXiaEvnvkdoRyjd843Dg2"><img src="http://img.shields.io/bitcoin/donate.png?color=green" /></a>
    <br />
  </p>
</section>

      </aside>


    </div>
  </div>
  <footer role="contentinfo">
    <p>
      Copyright &copy; 2007-2016 - <a href="http://twitter.com/kvz">Kevin van Zonneveld</a> and <a href="/authors/">contributors</a> -
      <span class="credit">Powered by <a href="http://jekyllrb.com">Jekyll</a></span> -
      <span class="credit">Theme by <a href="http://melandri.net/2012/07/23/darkstripes-octopress-theme-released/">alessandro melandri</a></span>
    </p>

  </footer>

  <script data-meta="js.app" src="/assets/build/app.js"></script>

  <script src="//kvz.github.io/on-the-githubs/js/jquery.on-the-githubs.min.js"></script>


  <script type="text/javascript">
    $(document).ready(function() {
      $('.on-the-githubs').onthegithubs();
      // If you use bootstrap and want to enable tooltips
      // $('a[rel]').tooltip();
    })
  </script>

  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-63083-7']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script');
      ga.type = 'text/javascript';
      ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(ga, s);
    })();
  </script>
</body>
</html>
